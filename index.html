<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Malla Curricular Arquitectura</title>

<style>
body{
  font-family: "Arial Rounded MT Bold", Arial, sans-serif;
  background:#f7f9f4;
  padding:25px;
  color:#3f4f2f;
}
h1{
  text-align:center;
  color:#6b7f45;
  letter-spacing:2px;
}

button{
  display:block;
  margin:10px auto 20px;
  background:#a7be8a;
  border:none;
  border-radius:25px;
  padding:10px 25px;
  color:white;
  font-size:15px;
  cursor:pointer;
}
button:hover{background:#8fa46f}

/* PROGRESO */
.progress-container{
  max-width:900px;
  margin:0 auto 25px;
}
.progress-text{
  text-align:center;
  font-size:14px;
  margin-bottom:6px;
}
.progress-bar{
  width:100%;
  background:#dfe7d6;
  border-radius:20px;
  overflow:hidden;
}
.progress-fill{
  height:14px;
  background:#9dbb84;
  width:0%;
  transition:width .4s;
}

/* MALLA */
.malla{
  display:flex;
  gap:25px;
  overflow-x:auto;
  padding-bottom:10px;
}

.ano{
  background:#eef3e8;
  border-radius:20px;
  padding:18px;
  min-width:320px;
  box-shadow:0 4px 8px rgba(0,0,0,.08);
}

.ano h2{
  text-align:center;
  color:#6b7f45;
  border-bottom:2px solid #b7c7a1;
  padding-bottom:6px;
}

.semestre h3{
  text-align:center;
  background:#d9e5cc;
  border-radius:15px;
  padding:6px;
  margin:14px 0;
  font-size:14px;
}

.materia{
  background:#fdfefe;
  border-radius:12px;
  padding:7px;
  margin-bottom:6px;
  text-align:center;
  cursor:pointer;
  font-size:13.5px;
  position:relative;
}

.materia.aprobada{
  background:#9dbb84;
  color:white;
  text-decoration:line-through;
}

.materia.bloqueada{
  background:#e0e0e0;
  color:#999;
  cursor:not-allowed;
}

.materia.bloqueada:hover::after{
  content:attr(data-tooltip);
  position:absolute;
  bottom:120%;
  left:50%;
  transform:translateX(-50%);
  background:#6b7f45;
  color:white;
  padding:6px 10px;
  border-radius:12px;
  font-size:11px;
  white-space:nowrap;
}
</style>
</head>

<body>

<h1>MALLA CURRICULAR ARQUITECTURA</h1>

<div class="progress-container">
  <div class="progress-text" id="progressText">Progreso: 0%</div>
  <div class="progress-bar">
    <div class="progress-fill" id="progressFill"></div>
  </div>
</div>

<button onclick="resetear()">Reiniciar progreso</button>

<div class="malla" id="malla"></div>

<script>
const data = [
{año:1, semestres:[
{nombre:"1° SEMESTRE", materias:[
{n:"Diseño Arquitectónico 1"},
{n:"Composición Arquitectónica 1"},
{n:"Introducción a la Teoría"},
{n:"Arte: Antigüedad a S. XVIII"},
{n:"Representación Arquitectónica 1"},
{n:"Introducción a la Edificación"},
{n:"Matemática Aplicada"}
]},
{nombre:"2° SEMESTRE", materias:[
{n:"Física Aplicada", p:["Matemática Aplicada"]},
{n:"Diseño Arquitectónico 2", p:["Diseño Arquitectónico 1","Composición Arquitectónica 1","Introducción a la Teoría","Representación Arquitectónica 1","Introducción a la Edificación"]},
{n:"Composición Arquitectónica 2", p:["Composición Arquitectónica 1","Diseño Arquitectónico 1"]},
{n:"Sistemas Constructivos Básicos", p:["Introducción a la Edificación"]},
{n:"Arte: Moderno y Contemporáneo", p:["Arte: Antigüedad a S. XVIII"]},
{n:"Topografía", p:["Introducción a la Edificación","Matemática Aplicada"]},
{n:"Dibujo a Mano Alzada"}
]},
{nombre:"VERANO", materias:[
{n:"Taller de Diseño Arquitectónico 1", p:["Diseño Arquitectónico 2","Representación Arquitectónica 1"]},
{n:"Taller de Visualización"},
{n:"Geomática"}
]}
]},
{año:2, semestres:[
{nombre:"1° SEMESTRE", materias:[
{n:"Español"},
{n:"Diseño Arquitectónico 3", p:["Diseño Arquitectónico 2"]},
{n:"Interpretación de la Arquitectura"},
{n:"Representación Arquitectónica 2", p:["Representación Arquitectónica 1"]},
{n:"Tecnología del Hormigón Armado"},
{n:"Modelos Estructurales"},
{n:"Introducción a la Investigación"}
]},
{nombre:"2° SEMESTRE", materias:[
{n:"Inglés"},
{n:"Sociedad Medio Ambiente y Desarrollo"},
{n:"Diseño Arquitectónico 4", p:["Diseño Arquitectónico 3"]},
{n:"Textos y Contextos de la Arquitectura Latinoamericana"},
{n:"Representación Arquitectónica 3"},
{n:"Sistemas Constructivos Especiales"},
{n:"Análisis Estructural"}
]},
{nombre:"VERANO", materias:[
{n:"Taller de Diseño Arquitectónico 2", p:["Diseño Arquitectónico 4"]},
{n:"Electiva 1"},
{n:"Electiva 2"}
]}
]},
{año:3, semestres:[
{nombre:"1° SEMESTRE", materias:[
{n:"Diseño Arquitectónico 5"},
{n:"Urbanismo 1"},
{n:"Instalaciones Sanitarias"},
{n:"Instalaciones Eléctricas"},
{n:"Estructuras de Acero"},
{n:"Metodología de la Investigación"}
]},
{nombre:"2° SEMESTRE", materias:[
{n:"Diseño Arquitectónico 6"},
{n:"Urbanismo 2"},
{n:"Arquitectura Bioclimática"},
{n:"Presupuesto y Avalúos"},
{n:"Gestión de Proyectos"},
{n:"Electiva 3"}
]}
]},
{año:4, semestres:[
{nombre:"1° SEMESTRE", materias:[
{n:"Diseño Arquitectónico 7"},
{n:"Planificación Urbana"},
{n:"Arquitectura Sostenible"},
{n:"Legislación y Ética Profesional"},
{n:"Electiva 4"}
]},
{nombre:"2° SEMESTRE", materias:[
{n:"Diseño Arquitectónico 8"},
{n:"Restauración Arquitectónica"},
{n:"Paisajismo"},
{n:"Electiva 5"}
]}
]},
{año:5, semestres:[
{nombre:"1° SEMESTRE", materias:[
{n:"Práctica Profesional"},
{n:"Seminario de Tesis"},
{n:"Gestión Empresarial"}
]},
{nombre:"2° SEMESTRE", materias:[
{n:"Trabajo de Graduación"}
]}
]}
];

function render(){
const cont=document.getElementById("malla");
cont.innerHTML="";
let total=0, aprobadas=0;

data.forEach(a=>{
const d=document.createElement("div");
d.className="ano";
d.innerHTML=`<h2>AÑO ${a.año}</h2>`;

a.semestres.forEach(s=>{
const sd=document.createElement("div");
sd.className="semestre";
sd.innerHTML=`<h3>${s.nombre}</h3>`;

s.materias.forEach(m=>{
total++;
const md=document.createElement("div");
md.className="materia";
md.textContent=m.n;

if(localStorage.getItem(m.n)){
md.classList.add("aprobada");
aprobadas++;
}

if(m.p){
const faltan=m.p.filter(x=>!localStorage.getItem(x));
if(faltan.length){
md.classList.add("bloqueada");
md.dataset.tooltip="Falta: "+faltan.join(", ");
}
}

md.onclick=()=>{
if(md.classList.contains("bloqueada")) return;
if(md.classList.toggle("aprobada")) localStorage.setItem(m.n,1);
else localStorage.removeItem(m.n);
render();
}

sd.appendChild(md);
});
d.appendChild(sd);
});
cont.appendChild(d);
});

const porcentaje=Math.round((aprobadas/total)*100);
document.getElementById("progressFill").style.width=porcentaje+"%";
document.getElementById("progressText").textContent=`Progreso: ${porcentaje}%`;
}

function resetear(){
if(confirm("¿Seguro que quieres borrar todo el progreso?")){
localStorage.clear();
render();
}
}

render();
</script>
</body>
</html>
